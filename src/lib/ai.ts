const MISTRAL_API_KEY = 'H8JUDXVXijuuZ9CnF5xzKkWX8HHv4FK3';
const API_URL = 'https://api.mistral.ai/v1/chat/completions';

interface PetInfo {
  name: string;
  type: string;
  breed: string;
  age: string;
  weight: string;
}

export async function generatePetRecommendations(petInfo: PetInfo): Promise<string> {
  const prompt = `Создай персонализированные рекомендации по уходу за питомцем:
Имя: ${petInfo.name}
Тип: ${petInfo.type}
Порода: ${petInfo.breed}
Возраст: ${petInfo.age}
Вес: ${petInfo.weight}

Рекомендации должны включать:
1. Питание и диета
2. Физическая активность
3. Гигиена
4. Здоровье и профилактика
5. Особенности породы
6. Возрастные особенности

Пожалуйста, дай подробные, но понятные рекомендации, учитывающие все особенности питомца.`;

  // В реальном приложении здесь будет вызов OpenAI API
  // Пока возвращаем заглушку
  return `Рекомендации по уходу за ${petInfo.name}:

1. Питание и диета:
- Кормить 2-3 раза в день качественным кормом
- Всегда должна быть свежая вода
- Следить за размером порций

2. Физическая активность:
- Ежедневные прогулки 2-3 раза в день
- Активные игры и упражнения
- Регулярные тренировки

3. Гигиена:
- Регулярное расчесывание
- Купание по мере необходимости
- Уход за когтями и зубами

4. Здоровье:
- Регулярные осмотры у ветеринара
- Своевременная вакцинация
- Профилактика паразитов

5. Особенности породы:
- Учитывать характерные черты
- Следить за типичными проблемами
- Обеспечивать специальный уход

6. Возрастные особенности:
- Адаптировать нагрузки к возрасту
- Учитывать возрастные потребности
- Обеспечивать правильное развитие`;
}

export async function generatePetTasks(petInfo: PetInfo): Promise<string> {
  const prompt = `Создай список ежедневных и еженедельных задач по уходу за питомцем:
Имя: ${petInfo.name}
Тип: ${petInfo.type}
Порода: ${petInfo.breed}
Возраст: ${petInfo.age}
Вес: ${petInfo.weight}

Задачи должны быть разделены по категориям:
1. Кормление
2. Физическая активность
3. Гигиена
4. Здоровье

Каждая задача должна включать:
- Описание
- Частоту выполнения
- Количество XP за выполнение`;

  // В реальном приложении здесь будет вызов OpenAI API
  // Пока возвращаем заглушку
  return `Задачи по уходу за ${petInfo.name}:

Кормление:
1. Утреннее кормление (ежедневно) - 50 XP
2. Вечернее кормление (ежедневно) - 50 XP
3. Мыть миски (ежедневно) - 30 XP
4. Менять воду (ежедневно) - 20 XP

Физическая активность:
1. Утренняя прогулка 30 минут (ежедневно) - 100 XP
2. Вечерняя прогулка 45 минут (ежедневно) - 150 XP
3. Активные игры 15 минут (ежедневно) - 80 XP
4. Тренировка команд (еженедельно) - 200 XP

Гигиена:
1. Расчесывание (ежедневно) - 50 XP
2. Чистка зубов (еженедельно) - 100 XP
3. Стрижка когтей (еженедельно) - 100 XP
4. Купание (еженедельно) - 150 XP

Здоровье:
1. Осмотр на наличие проблем (ежедневно) - 50 XP
2. Прием витаминов (ежедневно) - 30 XP
3. Обработка от паразитов (ежемесячно) - 200 XP
4. Посещение ветеринара (ежеквартально) - 500 XP`;
} 